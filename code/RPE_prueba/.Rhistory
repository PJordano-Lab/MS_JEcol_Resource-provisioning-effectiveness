library(readr)
RPE <- read_delim("RPE_elena.csv", ";", escape_double = FALSE, col_types = cols(fruit_visit = col_number()), trim_ws = TRUE)
RPE
str(RPE)
plot(RPE$body_mass, RPE$fruit_visit)
b
plot(log(RPE$body_mass), log(RPE$fruit_visit))
?cor.test
?cor
cor(RPEcor1, method="pearson", use= "pairwise.complete.obs")
cor(RPE, method="pearson", use= "pairwise.complete.obs")
e
cor(fruit_visit, body_mass, method="pearson", use= "pairwise.complete.obs")
cor(RPE$fruit_visit, RPE$body_mass, method="pearson", use= "pairwise.complete.obs")
pairs(RPE$fruit_visit, RPE$body_mass, method="pearson", use= "pairwise.complete.obs")
cor.test(RPE$fruit_visit, RPE$body_mass, method="pearson", use= "pairwise.complete.obs")
cor.test(RPE$fruit_visit*RPE$FRFM, RPE$body_mass, method="pearson", use= "pairwise.complete.obs")
cor.test(RPE$fruit_visit*RPE$FRFM, RPE$body_mass, method="pearson")
cor.test(log(RPE$fruit_visit*RPE$FRFM), log(RPE$body_mass))
hist(RPE$body_mass)
hist(RPE$fruit_visit)
hist(log(RPE$fruit_visit*RPE$FRFM))
hist(log(RPE$body_mass))
RPE
RPE_R.dicol
model <- lm(log(fruit_visit*FRFM)~log(body_mass), RPE)
frug_capacity <- exp(predict(model, RPE))
RPE_capacity <- cbind(RPE, frug_capacity)
str(RPE_capacity)
RPE_R.dicol <- subset (RPE_capacity, frug == "Ramphastos dicolorus")
RPE_R.dicol
gross_energy <- (RPE_R.dicol$LIP*35+RPE_R.dicol$PRO*14.1+RPE_R.dicol$TOTALSUG*15.1)
gross_energy
RPE_R.dicol <- cbind(RPE_R.dicol, gross_energy)
QLY <- ((RPE_R.dicol$frug_capacity*(RPE_R.dicol$PDM/RPE_R.dicol$FRFM)*RPE_R.dicol$gross_energy))/RPE_R.dicol$fruit_visit
QLY
R.dicol <- cbind(RPE_R.dicol, QLY)
Ramp <- subset(R.dicol, !is.na(QTY)) #remove data for missing values
Ramp <- subset(R.dicol, !is.na(QLY)) #remove data for missing values
Ramp <- subset(Ramp, !is.na(QLY))
library(effect.lndscp)
library(devtools)
library(ggplot2)
library(ggrepel)
effectiveness_plot(Ramp$QTY, Ramp$QLY,
Ramp$plant_family,
Ramp$plant, 10,
myxlab= "Qty component (fruits/h)",
myylab= "Qly component (KJ/h)")
Ramp
str(Ramp)
names(Ramp)
names(RPE_capacity)
names(RPE_R.dicol)
QTY<- (RPE_R.dicol$visit_rate)*(RPE_R.dicol$fruit_visit)
#EFFECTIVENESS LANDSCAPE FOR Ramphastos dicolorus
RPE_R.dicol <- subset (RPE_capacity, frug == "Ramphastos dicolorus")
RPE_R.dicol
#Calculation of Quality component
gross_energy <- (RPE_R.dicol$LIP*35+RPE_R.dicol$PRO*14.1+RPE_R.dicol$TOTALSUG*15.1)
gross_energy
RPE_R.dicol <- cbind(RPE_R.dicol, gross_energy)
QTY<- (RPE_R.dicol$visit_rate)*(RPE_R.dicol$fruit_visit)
QLY <- ((RPE_R.dicol$frug_capacity*(RPE_R.dicol$PDM/RPE_R.dicol$FRFM)*RPE_R.dicol$gross_energy))/RPE_R.dicol$fruit_visit
QLY
R.dicol <- cbind(RPE_R.dicol, QTY)
R.dicol <- cbind(RPE_R.dicol, QLY)
Ramp <- subset(R.dicol, !is.na(QLY)) #remove data for missing values
Ramp <- subset(Ramp, !is.na(QLY))
library(effect.lndscp)
library(devtools)
library(ggplot2)
library(ggrepel)
effectiveness_plot(Ramp$QTY, Ramp$QLY,
Ramp$plant_family,
Ramp$plant, 10,
myxlab= "Qty component (fruits/h)",
myylab= "Qly component (KJ/h)")
names(Ramp)
names(R.dicol)
QTY
#EFFECTIVENESS LANDSCAPE FOR Ramphastos dicolorus
RPE_R.dicol <- subset (RPE_capacity, frug == "Ramphastos dicolorus")
RPE_R.dicol
#Calculation of Quality component
gross_energy <- (RPE_R.dicol$LIP*35+RPE_R.dicol$PRO*14.1+RPE_R.dicol$TOTALSUG*15.1)
gross_energy
RPE_R.dicol <- cbind(RPE_R.dicol, gross_energy)
QTY<- (RPE_R.dicol$visit_rate)*(RPE_R.dicol$fruit_visit)
QLY <- ((RPE_R.dicol$frug_capacity*(RPE_R.dicol$PDM/RPE_R.dicol$FRFM)*RPE_R.dicol$gross_energy))/RPE_R.dicol$fruit_visit
QLY
R.dicol <- cbind(RPE_R.dicol, QTY, QLY)
names(R.dicol)
Ramp <- subset(R.dicol, !is.na(QLY)) #remove data for missing values
Ramp <- subset(Ramp, !is.na(QLY))
names(Ramp)
#Effectiveness landscape - PROBLEM
library(effect.lndscp)
library(devtools)
library(ggplot2)
library(ggrepel)
effectiveness_plot(Ramp$QTY, Ramp$QLY,
Ramp$plant_family,
Ramp$plant, 10,
myxlab= "Qty component (fruits/h)",
myylab= "Qly component (KJ/h)")
effectiveness_plot(Ramp$QTY, Ramp$QLY,
#   Ramp$plant_family,
#    Ramp$plant,
10,
myxlab= "Qty component (fruits/h)",
myylab= "Qly component (KJ/h)")
table(Ramp$plant_family)
table(Ramp$plant)
Ramp
effectiveness_plot(Ramp$QTY, Ramp$QLY,
Ramp$plant_family,
#    Ramp$plant,
10,
myxlab= "Qty component (fruits/h)",
myylab= "Qly component (KJ/h)")
str(Ramp)
effectiveness_plot(Ramp$QTY, Ramp$QLY,
#   Ramp$plant_family,
Ramp$plant,
10,
myxlab= "Qty component (fruits/h)",
myylab= "Qly component (KJ/h)")
Ramp$plant_family<- as.factor(Ramp$plant_family)
Ramp$plant<- as.factor(Ramp$plant)
str(Ramp)
effectiveness_plot(Ramp$QTY, Ramp$QLY,
Ramp$plant_family,
Ramp$plant, 10,
myxlab= "Qty component (fruits/h)",
myylab= "Qly component (KJ/h)")
?read_delim
?readr
library(readr)
?readr
str(Ramp)
RPE <- read_delim("RPE_data_imputation.csv", ";", escape_double = FALSE, col_types = cols(fruit_visit = col_number(), c(frug, plant,plant_family, frug_family)=col_factor()), trim_ws = TRUE)
RPE <- read_delim("RPE_data_imputation.csv", ";", escape_double = FALSE, col_types = cols(fruit_visit = col_number(), (frug, plant,plant_family,frug_family)=col_factor()), trim_ws = TRUE)
library(readr)
RPE_data_imputation <- read_delim("~/Documents/Working/MSS_Elena_master/code/RPE_prueba/RPE_data_imputation.csv",
";", escape_double = FALSE, col_types = cols(frug = col_factor(levels = c()),
frug_family = col_factor(levels = c()),
plant = col_factor(levels = c()),
plant_family = col_factor(levels = c())),
trim_ws = TRUE)
View(RPE_data_imputation)
str(RPE_data_imputation)
